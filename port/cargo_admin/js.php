<?php	// ten skrypt jest dla ladowania z magazynu na statek, ze statku na statek i z magazynu do magazynu	if( isset( $_GET['from'] ) && ( $_GET['from'] == 'warehouse' || $_GET['from'] == 'ship' ) ) {		echo '<script>		function addCargoCombo() {			var current = "";';									// tu w fields wypisz towary z magazynu/innego statku			// tu dla uproszczenia nie bede rozrozniac czy tylko jedno pole jest ustawione (np. towar bez ilosci) tak jak w cargo_form.js			// najwyzej daj buga jakiegos albo jak bedzie puste pole to uznaj ze to jest 0 czy cos			if( $_GET['from'] == 'warehouse' ) {				echo 'var fields = "<option value=\"towary z magazynu\">towary z magazynu";';			} else {				echo 'var fields = "<option value=\"towary z innego statku\">towary z innego statku";';			}			echo 'var cargoNumber = ( document.getElementById( "cargo_form" ).elements.length - 1 ) / 3;			var emptyFields = 0;						for( i = 0; i < cargoNumber; ++i ) {				var cargo  = document.getElementsByName( "cargo" + i )[0].value;				var amount = document.getElementsByName( "amount" + i )[0].value;				var remarks = document.getElementsByName( "remarks" + i )[0].value;				if( cargo == "empty slot" ) {					++emptyFields;				}';								echo 'current += "<br>No. " + i + ": <select name=\"cargo" + i + "\" onChange=\"addCargoCombo()\">" +													"<option value=\"" + cargo + "\" selected>" + cargo +													"<option value=\"empty slot\">empty slot" +													fields + 													"</select><input name=\"amount" + i + "\" value=\"" + amount + "\" type=\"text\" placeholder=\"Amount\" pattern=\"^[0-9]+$\">" +													"<br><textarea style=\"margin-left: 40px\" name=\"remarks" + i + "\" cols=\"35\" rows=\"3\" placeholder=\"Remarks\"></textarea><br>"'; 											echo "}";						echo 'var newField = "<br>No. " + cargoNumber + ": <select name=\"cargo" + cargoNumber + "\" onChange=\"addCargoCombo()\">" +															 "<option value=\"empty slot\">empty slot" +															  fields + 															  "</select><input name=\"amount" + cargoNumber + "\" type=\"text\" placeholder=\"Amount\" pattern=\"^[0-9]+$\">" +															  "<br><textarea style=\"margin-left: 40px\" name=\"remarks" + i + "\" cols=\"35\" rows=\"3\" placeholder=\"Remarks\"></textarea><br>" +															  "<br><br><input type=\"submit\" class=\"button baseFont add\" value=\"Load\">"';			echo "			   			document.getElementById( 'cargo_form' ).innerHTML = current + '<br><br><input type=\"submit\" class=\"button baseFont add\" value=\"Load\">';			if( emptyFields < 1 ) {				document.getElementById( 'cargo_form' ).innerHTML = current + newField;			}		}		</script>	";	}?>